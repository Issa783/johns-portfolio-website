<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link href="style.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
      (function() {
        emailjs.init("JlNJ4sDIoLA64_Z98");
      })();
    </script>
    <style>
      .input-box label::after {
        content: " *";
        color: red;
      }
      .error {
        color: red;
        display: none;
      }
    </style>
</head>
<body>
    <header class="header">
        <a href="index.html" class="logo">John.</a>
        <nav class="navbar">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="project.html">Projects</a>
            <a href="contact.html" class="active">Contact</a>
        </nav>
    </header>
    <section class="contact">
        <div class="contact-content">
            <h2>Contact Me</h2>
            <p>If you have any questions, feel free to reach out to me. I'd love to hear from you!</p>
            <div class="contact-form">
                <form id="contact-form">
                    <div class="input-box">
                        <input type="text" name="name" required>
                        <label for="name">Full Name</label>
                        <span class="error" id="name-error">Please enter your name</span>
                    </div>
                    <div class="input-box">
                        <input type="email" name="email" required>
                        <label for="email">Email Address</label>
                        <span class="error" id="email-error">Please enter a valid email address</span>
                    </div>
                    <div class="input-box">
                        <textarea name="message" required></textarea>
                        <label for="message">Your Message</label>
                        <span class="error" id="message-error">Please enter your message</span>
                    </div>
                    <div class="btn-box">
                        <button type="submit">Send Message</button>
                    </div>
                </form>
            </div>
            <div class="contact-info">
                <h3>Get in Touch</h3>
                <p><i class='bx bxs-phone'></i> +254768766562</p>
                <p><i class='bx bxs-envelope'></i> mutuabenedict920@gmail.com</p>
                <p><i class='bx bxs-map'></i> Nairobi, Kenya</p>
                <div class="contact-sci">
                    <a href="https://x.com/Shata995770042"><i class='bx bxl-twitter'></i></a>
                    <a href="https://www.instagram.com/taikun713/"><i class='bx bxl-instagram'></i></a>
                    <a href="https://www.linkedin.com/in/john-mutua"><i class='bx bxl-linkedin'></i></a>
                </div>
            </div>
        </div>
    </section>
    <script>
      document.getElementById('contact-form').addEventListener('submit', function(event) {
        event.preventDefault();

        let valid = true;
        
        // Form validation
        const name = document.getElementsByName('name')[0];
        const email = document.getElementsByName('email')[0];
        const message = document.getElementsByName('message')[0];
        
        if (!name.value) {
          valid = false;
          document.getElementById('name-error').style.display = 'inline';
        } else {
          document.getElementById('name-error').style.display = 'none';
        }
        
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email.value || !emailPattern.test(email.value)) {
          valid = false;
          document.getElementById('email-error').style.display = 'inline';
        } else {
          document.getElementById('email-error').style.display = 'none';
        }
        
        if (!message.value) {
          valid = false;
          document.getElementById('message-error').style.display = 'inline';
        } else {
          document.getElementById('message-error').style.display = 'none';
        }
        
        if (valid) {
          emailjs.sendForm('service_fpwgvsd', 'template_i4e8f5b', this)
            .then(function() {
              alert('Message sent successfully!');
              document.getElementById('contact-form').reset();
            }, function(error) {
              console.error('FAILED...', error);
              alert('Failed to send message. Please try again.');
            });
        }
      });
    </script>
</body>
</html>
